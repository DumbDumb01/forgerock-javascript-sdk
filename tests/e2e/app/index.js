!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("forgerock",[],e):"object"==typeof exports?exports.forgerock=e():t.forgerock=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=39)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.payload=t}return t.prototype.getType=function(){return this.payload.type},t.prototype.getInputValue=function(t){return void 0===t&&(t=0),this.getArrayElement(this.payload.input,t).value},t.prototype.setInputValue=function(t,e){void 0===e&&(e=0),this.getArrayElement(this.payload.input,e).value=t},t.prototype.getOutputValue=function(t){return void 0===t&&(t=0),this.getArrayElement(this.payload.output,t).value},t.prototype.getOutputByName=function(t,e){var n=this.payload.output.find((function(e){return e.name===t}));return n?n.value:e},t.prototype.getArrayElement=function(t,e){if(void 0===e&&(e=0),void 0===t)throw new Error("No NameValue array was provided to search (selector "+e+")");if("number"==typeof e){if(e<0||e>t.length-1)throw new Error("Selector index "+e+" is out of range");return t[e]}if("string"==typeof e){var n=t.find((function(t){return t.name===e}));if(!n)throw new Error('Missing callback input entry "'+e+'"');return n}throw new Error("Invalid selector value type")},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=n(40);e.DEFAULT_TIMEOUT=o.DEFAULT_TIMEOUT;var i=function(){function t(){}return t.set=function(t){if(!this.isValid(t))throw new Error("Configuration is invalid");t.serverConfig&&this.validateServerConfig(t.serverConfig),this.options=r({},t)},t.get=function(t){if(!this.options&&!t)throw new Error("Configuration has not been set");var e=r(r({},this.options),t);if(!e.serverConfig||!e.serverConfig.baseUrl)throw new Error("Server configuration has not been set");return e},t.isValid=function(t){return!(!t||!t.serverConfig)},t.validateServerConfig=function(t){t.timeout||(t.timeout=o.DEFAULT_TIMEOUT);var e=t.baseUrl;e&&"/"!==e.charAt(e.length-1)&&(t.baseUrl=e+"/")},t}();e.default=i},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.LoginFailure="LoginFailure",t.LoginSuccess="LoginSuccess",t.Step="Step"}(r||(r={})),e.StepType=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);e.withTimeout=function(t,e){void 0===e&&(e=r.DEFAULT_TIMEOUT);var n=e||r.DEFAULT_TIMEOUT;return Promise.race([t,new Promise((function(t,e){return window.setTimeout((function(){return e(new Error("Timeout"))}),n)}))])}},function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};function o(t){var e="http:"===t.protocol&&-1===["","80"].indexOf(t.port)||"https:"===t.protocol&&-1===["","443"].indexOf(t.port)?":"+t.port:"";return t.protocol+"//"+t.hostname+e}Object.defineProperty(e,"__esModule",{value:!0}),e.getBaseUrl=o,e.resolve=function(t,e){var n=new URL(t);if(e.startsWith("/"))return""+o(n)+e;var i=n.pathname.split("/"),a=e.split("/").filter((function(t){return!!t})),u=r(i.slice(0,-1),a).join("/");return""+o(n)+u},e.parseQuery=function(t){var e=new URL(t),n={};return e.searchParams.forEach((function(t,e){return n[e]=t})),n},e.stringify=function(t){var e=[];for(var n in t)t[n]&&e.push(n+"="+encodeURIComponent(t[n]));return e.join("&")}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(1)),u=i(n(6)),s=n(36),c=i(n(10)),l=n(7),f=n(3),p=n(4),d=n(50);e.ResponseType=d.ResponseType;var h=function(){function t(){}return t.getAuthorizeUrl=function(t){return r(this,void 0,void 0,(function(){var e,n,r,i,u,s,l,f,p=this;return o(this,(function(o){switch(o.label){case 0:return e=a.default.get(t),n=e.serverConfig,r=e.clientId,i=e.redirectUri,u=e.scope,s={client_id:r,redirect_uri:i,response_type:t.responseType,scope:u,state:t.state},t.verifier?[4,c.default.createChallenge(t.verifier)]:[3,2];case 1:l=o.sent(),s.code_challenge=l,s.code_challenge_method="S256",o.label=2;case 2:return f=this.getUrl("authorize",s,t),[2,new Promise((function(t,e){var r,o=document.createElement("iframe"),i=function(){},a=i,u=0;r=function(){window.clearTimeout(u),o.removeEventListener("load",a),o.remove()},a=function(){if(o.contentWindow){var e=o.contentWindow.location.href;p.containsAuthCode(e)&&(r(),t(e))}},u=window.setTimeout((function(){r(),e("Timeout")}),n.timeout),o.style.display="none",o.addEventListener("load",a),document.body.appendChild(o),o.src=f}))]}}))}))},t.getOAuth2Tokens=function(t){return r(this,void 0,void 0,(function(){var e,n,r,i,u,s,c,l,f,d;return o(this,(function(o){switch(o.label){case 0:return e=a.default.get(t),n=e.clientId,r=e.redirectUri,i={client_id:n,code:t.authorizationCode,grant_type:"authorization_code",redirect_uri:r},t.verifier&&(i.code_verifier=t.verifier),u=p.stringify(i),s={body:u,headers:{"content-length":u.length.toString(),"content-type":"application/x-www-form-urlencoded"},method:"POST"},[4,this.request("access_token",void 0,!1,s,t)];case 1:return c=o.sent(),[4,this.getBody(c)];case 2:if(l=o.sent(),200!==c.status)throw f="string"==typeof l?"Expected 200, received "+c.status:this.parseError(l),new Error(f);if(!(d=l).access_token)throw new Error("Access token not found in response");return[2,{accessToken:d.access_token,idToken:d.id_token,refreshToken:d.refresh_token}]}}))}))},t.getUserInfo=function(t){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return[4,this.request("userinfo",void 0,!0,void 0,t)];case 1:if(200!==(e=n.sent()).status)throw new Error("Failed to get user info; received "+e.status);return[4,e.json()];case 2:return[2,n.sent()]}}))}))},t.endSession=function(t){return r(this,void 0,void 0,(function(){var e,n,r;return o(this,(function(o){switch(o.label){case 0:return[4,u.default.get()];case 1:return e=o.sent().idToken,n={},e&&(n.id_token_hint=e),[4,this.request("connect/endSession",n,!0,void 0,t)];case 2:if(r=o.sent(),!s.isOkOr4xx(r))throw new Error("Failed to end session; received "+r.status);return[2]}}))}))},t.revokeToken=function(t){return r(this,void 0,void 0,(function(){var e,n,r,i;return o(this,(function(o){switch(o.label){case 0:return e=a.default.get(t).clientId,[4,u.default.get()];case 1:return n=o.sent().accessToken,r={body:p.stringify({client_id:e,token:n}),credentials:"include",headers:{"content-type":"application/x-www-form-urlencoded"},method:"POST"},[4,this.request("token/revoke",void 0,!1,r,t)];case 2:if(i=o.sent(),!s.isOkOr4xx(i))throw new Error("Failed to revoke token; received "+i.status);return[2]}}))}))},t.request=function(t,e,n,i,s){return r(this,void 0,void 0,(function(){var r,c,l;return o(this,(function(o){switch(o.label){case 0:return r=a.default.get(s).serverConfig,c=this.getUrl(t,e,s),i=i||{},n?[4,u.default.get()]:[3,2];case 1:l=o.sent().accessToken,i.credentials="include",i.headers=i.headers||new Headers,i.headers.set("authorization","Bearer "+l),o.label=2;case 2:return[4,f.withTimeout(fetch(c,i),r.timeout)];case 3:return[2,o.sent()]}}))}))},t.containsAuthCode=function(t){return!!t&&/code=([^&]+)/.test(t)},t.getBody=function(t){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return(e=t.headers.get("content-type"))&&e.indexOf("application/json")>-1?[4,t.json()]:[3,2];case 1:return[2,n.sent()];case 2:return[4,t.text()];case 3:return[2,n.sent()]}}))}))},t.parseError=function(t){if(t){if(t.error&&t.error_description)return t.error+": "+t.error_description;if(t.code&&t.message)return t.code+": "+t.message}},t.getUrl=function(t,e,n){var r=a.default.get(n),o=r.realmPath,i=r.serverConfig,u=l.getRealmUrlPath(o),s=p.resolve(i.baseUrl,"oauth2/"+u+"/"+t);return e&&(s+="?"+p.stringify(e)),s},t}();e.default=h},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(1)),u=n(49),s=function(){function t(){}return t.get=function(){return r(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){return t=this.getClientId(),[2,new Promise((function(n,r){var o=function(){return r()},i=window.indexedDB.open(u.DB_NAME);i.onsuccess=function(){if(!i.result.objectStoreNames.contains(t))return i.result.close(),n(void 0);var r=i.result.transaction(t,"readonly").objectStore(t).get(u.TOKEN_KEY);r.onsuccess=function(t){var r=e.getResult(t);i.result.close(),n(r)},r.onerror=o},i.onupgradeneeded=function(){i.result.close(),n(void 0)},i.onerror=o}))]}))}))},t.set=function(t){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){return e=this.getClientId(),[2,new Promise((function(n,r){var o=window.indexedDB.open(u.DB_NAME),i=function(){o.result.close(),n()},a=function(){return r()},s=function(){o.result.createObjectStore(e)},c=function(){if(!o.result.objectStoreNames.contains(e)){var n=o.result.version+1;return o.result.close(),(o=window.indexedDB.open(u.DB_NAME,n)).onupgradeneeded=s,o.onsuccess=c,void(o.onerror=a)}var r=o.result.transaction(e,"readwrite");r.onerror=a;var l=r.objectStore(e).put(t,u.TOKEN_KEY);l.onsuccess=i,l.onerror=a};o.onupgradeneeded=s,o.onsuccess=c,o.onerror=a}))]}))}))},t.remove=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(e){return t=this.getClientId(),[2,new Promise((function(e,n){var r=function(){return n()},o=window.indexedDB.open(u.DB_NAME);o.onsuccess=function(){if(!o.result.objectStoreNames.contains(t))return e();var n=o.result.transaction(t,"readwrite").objectStore(t).delete(u.TOKEN_KEY);n.onsuccess=function(){e()},n.onerror=r},o.onerror=r}))]}))}))},t.getClientId=function(){var t=a.default.get().clientId;if(!t)throw new Error("clientId is required to manage token storage");return t},t.getResult=function(t){if(!t||!t.target)throw new Error("Missing storage event target");return t.target.result},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRealmUrlPath=function(t){var e=(t||"").split("/").map((function(t){return t.trim()})).filter((function(t){return""!==t}));return"root"!==e[0]&&e.unshift("root"),e.map((function(t){return"realms/"+t})).join("/")}},function(t,e,n){"use strict";var r,o;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.BadRequest="BAD_REQUEST",t.Timeout="TIMEOUT",t.Unauthorized="UNAUTHORIZED",t.Unknown="UNKNOWN"}(r||(r={})),e.ErrorCode=r,function(t){t.BooleanAttributeInputCallback="BooleanAttributeInputCallback",t.ChoiceCallback="ChoiceCallback",t.ConfirmationCallback="ConfirmationCallback",t.DeviceProfileCallback="DeviceProfileCallback",t.HiddenValueCallback="HiddenValueCallback",t.KbaCreateCallback="KbaCreateCallback",t.MetadataCallback="MetadataCallback",t.NameCallback="NameCallback",t.PasswordCallback="PasswordCallback",t.PollingWaitCallback="PollingWaitCallback",t.ReCaptchaCallback="ReCaptchaCallback",t.StringAttributeInputCallback="StringAttributeInputCallback",t.TermsAndConditionsCallback="TermsAndConditionsCallback",t.TextOutputCallback="TextOutputCallback",t.ValidatedCreatePasswordCallback="ValidatedCreatePasswordCallback",t.ValidatedCreateUsernameCallback="ValidatedCreateUsernameCallback"}(o||(o={})),e.CallbackType=o},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(44)),i=n(2),a=function(){function t(t,e){this.payload=t,this.type=i.StepType.Step,this.callbacks=[],t.callbacks&&(this.callbacks=this.convertCallbacks(t.callbacks,e))}return t.prototype.getCallbackOfType=function(t){var e=this.getCallbacksOfType(t);if(1!==e.length)throw new Error('Expected 1 callback of type "'+t+'", but found '+e.length);return e[0]},t.prototype.getCallbacksOfType=function(t){return this.callbacks.filter((function(e){return e.getType()===t}))},t.prototype.setCallbackValue=function(t,e){var n=this.getCallbacksOfType(t);if(1!==n.length)throw new Error('Expected 1 callback of type "'+t+'", but found '+n.length);n[0].setInputValue(e)},t.prototype.getDescription=function(){return this.payload.description},t.prototype.getHeader=function(){return this.payload.header},t.prototype.getStage=function(){return this.payload.stage},t.prototype.convertCallbacks=function(t,e){return t.map((function(t){return(e||o.default)(t)||o.default(t)}))},t}();e.default=a},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.createVerifier=function(t){void 0===t&&(t=32);var e=new Uint8Array(t);return window.crypto.getRandomValues(e),this.base64UrlEncode(e)},t.createChallenge=function(t){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return[4,this.sha256(t)];case 1:return e=n.sent(),[2,this.base64UrlEncode(e)]}}))}))},t.base64UrlEncode=function(t){var e=Array.prototype.slice.call(t);return window.btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},t.sha256=function(t){return r(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return e=(new TextEncoder).encode(t),[4,window.crypto.subtle.digest("SHA-256",e)];case 1:return n=r.sent(),[2,new Uint8Array(n)]}}))}))},t}();e.default=i},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(5)),c=u(n(6)),l=u(n(37)),f=u(n(10)),p=n(4),d=function(){function t(){}return t.getTokens=function(t){return o(this,void 0,void 0,(function(){var e,n,o,a,u,d,h,y,v,b;return i(this,(function(i){switch(i.label){case 0:if(t&&t.forceRenew)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,c.default.get()];case 2:return(e=i.sent())?[2,e]:[3,4];case 3:return n=i.sent(),console.error("Failed to retrieve stored tokens",n),[3,4];case 4:return o=f.default.createVerifier(),a=l.default()().toString(),u=r(r({},t),{responseType:s.ResponseType.Code,state:a,verifier:o}),[4,s.default.getAuthorizeUrl(u)];case 5:if(d=i.sent(),(h=p.parseQuery(d)).state!==a)throw new Error("State mismatch");if(!h.code||Array.isArray(h.code))throw new Error("Failed to acquire authorization code");return y=h.code,v=r(r({},t),{authorizationCode:y,verifier:o}),[4,s.default.getOAuth2Tokens(v)];case 6:e=i.sent(),i.label=7;case 7:return i.trys.push([7,9,,10]),[4,c.default.set(e)];case 8:return i.sent(),[3,10];case 9:return b=i.sent(),console.error("Failed to store tokens",b),[3,10];case 10:return[2,e]}}))}))},t.deleteTokens=function(){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,c.default.remove()];case 1:return t.sent(),[2]}}))}))},t}();e.default=d},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(n(1)),s=n(13),c=n(7),l=n(3),f=n(4),p=function(){function t(){}return t.next=function(t,e){return o(this,void 0,void 0,(function(){var n,r,o,a,s,c,f,p;return i(this,(function(i){switch(i.label){case 0:return n=u.default.get(e),r=n.realmPath,o=n.serverConfig,a=n.tree,s=e?e.query:{},c=this.constructUrl(o,r,a,s),f=this.configureRequest(t),[4,l.withTimeout(fetch(c,f),o.timeout)];case 1:return p=i.sent(),[4,this.getResponseJson(p)];case 2:return[2,i.sent()]}}))}))},t.constructUrl=function(t,e,n,o){var i=c.getRealmUrlPath(e),a=n?{authIndexType:"service",authIndexValue:n}:void 0,u=r(r({},o),a),s="json/"+i+"/authenticate"+(Object.keys(u).length>0?"?"+f.stringify(u):"");return f.resolve(t.baseUrl,s)},t.configureRequest=function(t){return{body:t?JSON.stringify(t):void 0,credentials:"include",headers:{accept:"application/json","accept-api-version":"protocol=1.0,resource=2.1","content-type":"application/json","x-requested-with":s.REQUESTED_WITH},method:"POST"}},t.getResponseJson=function(t){return o(this,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return e=t.headers.get("content-type"),e&&e.indexOf("application/json")>-1?[4,t.json()]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n=void 0,r.label=3;case 3:return[2,n]}}))}))},t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.REQUESTED_WITH="forgerock-sdk"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(41),o=function(){function t(){this.callbacks={}}return t.prototype.addEventListener=function(t,e){r.add(this.callbacks,t,e)},t.prototype.removeEventListener=function(t,e){r.remove(this.callbacks,t,e)},t.prototype.clearEventListeners=function(t){r.clear(this.callbacks,t)},t.prototype.dispatchEvent=function(t){if(this.callbacks[t.type])for(var e=0,n=this.callbacks[t.type];e<n.length;e++){(0,n[e])(t)}},t}();e.default=o},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(12)),u=i(n(16)),s=i(n(20)),c=i(n(9)),l=function(){function t(){}return t.next=function(t,e){return r(this,void 0,void 0,(function(){var n,r;return o(this,(function(o){switch(o.label){case 0:return[4,a.default.next(t?t.payload:void 0,e)];case 1:return(n=o.sent()).tokenId?[2,new s.default(n)]:n.authId?(r=e?e.callbackFactory:void 0,[2,new c.default(n,r)]):[2,new u.default(n)]}}))}))},t}();e.default=l},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(17)),i=n(2),a=function(){function t(t){this.payload=t,this.type=i.StepType.LoginFailure}return t.prototype.getCode=function(){return Number(this.payload.code)},t.prototype.getDetail=function(){return this.payload.detail},t.prototype.getMessage=function(){return this.payload.message},t.prototype.getProcessedMessage=function(t){return o.default.parseErrors(this.payload,t)},t.prototype.getReason=function(){return this.payload.reason},t}();e.default=a},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(18);e.PolicyKey=i.PolicyKey;var a=o(n(19)),u=function(){function t(){}return t.parseErrors=function(t,e){var n=this,r=[];return t.detail&&t.detail.failedPolicyRequirements&&t.detail.failedPolicyRequirements.map((function(t){r.push.apply(r,[{detail:t,messages:n.parseFailedPolicyRequirement(t,e)}])})),r},t.parseFailedPolicyRequirement=function(t,e){var n=this,r=[];return t.policyRequirements.map((function(o){r.push(n.parsePolicyRequirement(t.property,o,e))})),r},t.parsePolicyRequirement=function(t,e,n){void 0===n&&(n={});var o="string"==typeof e?JSON.parse(e):r({},e),u=o.policyRequirement;return(n[u]||a.default[u]||a.default[i.PolicyKey.UnknownPolicy])(t,o.params?r(r({},o.params),{policyRequirement:u}):{policyRequirement:u})},t}();e.default=u},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.CannotContainCharacters="CANNOT_CONTAIN_CHARACTERS",t.CannotContainDuplicates="CANNOT_CONTAIN_DUPLICATES",t.CannotContainOthers="CANNOT_CONTAIN_OTHERS",t.LeastCapitalLetters="AT_LEAST_X_CAPITAL_LETTERS",t.LeastNumbers="AT_LEAST_X_NUMBERS",t.MatchRegexp="MATCH_REGEXP",t.MaximumLength="MAX_LENGTH",t.MaximumNumber="MAXIMUM_NUMBER_VALUE",t.MinimumLength="MIN_LENGTH",t.MinimumNumber="MINIMUM_NUMBER_VALUE",t.Required="REQUIRED",t.Unique="UNIQUE",t.UnknownPolicy="UNKNOWN_POLICY",t.ValidArrayItems="VALID_ARRAY_ITEMS",t.ValidDate="VALID_DATE",t.ValidEmailAddress="VALID_EMAIL_ADDRESS_FORMAT",t.ValidNameFormat="VALID_NAME_FORMAT",t.ValidNumber="VALID_NUMBER",t.ValidPhoneFormat="VALID_PHONE_FORMAT",t.ValidQueryFilter="VALID_QUERY_FILTER",t.ValidType="VALID_TYPE"}(r||(r={})),e.PolicyKey=r},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0});var o=n(42),i=n(18),a=n(43),u=((r={})[i.PolicyKey.CannotContainCharacters]=function(t,e){return t+' must not contain following characters: "'+a.getProp(e,"forbiddenChars","")+'"'},r[i.PolicyKey.CannotContainDuplicates]=function(t,e){return t+'  must not contain duplicates: "'+a.getProp(e,"duplicateValue","")+'"'},r[i.PolicyKey.CannotContainOthers]=function(t,e){return t+' must not contain: "'+a.getProp(e,"disallowedFields","")+'"'},r[i.PolicyKey.LeastCapitalLetters]=function(t,e){var n=a.getProp(e,"numCaps",0);return t+" must contain at least "+n+" capital "+o.plural(n,"letter")},r[i.PolicyKey.LeastNumbers]=function(t,e){var n=a.getProp(e,"numNums",0);return t+" must contain at least "+n+" numeric "+o.plural(n,"value")},r[i.PolicyKey.MatchRegexp]=function(t){return t+' has failed the "MATCH_REGEXP" policy'},r[i.PolicyKey.MaximumLength]=function(t,e){var n=a.getProp(e,"maxLength",0);return t+" must be at most "+n+" "+o.plural(n,"character")},r[i.PolicyKey.MaximumNumber]=function(t){return t+' has failed the "MAXIMUM_NUMBER_VALUE" policy'},r[i.PolicyKey.MinimumLength]=function(t,e){var n=a.getProp(e,"minLength",0);return t+" must be at least "+n+" "+o.plural(n,"character")},r[i.PolicyKey.MinimumNumber]=function(t){return t+' has failed the "MINIMUM_NUMBER_VALUE" policy'},r[i.PolicyKey.Required]=function(t){return t+" is required"},r[i.PolicyKey.Unique]=function(t){return t+" must be unique"},r[i.PolicyKey.UnknownPolicy]=function(t,e){return t+': Unknown policy requirement "'+a.getProp(e,"policyRequirement","Unknown")+'"'},r[i.PolicyKey.ValidArrayItems]=function(t){return t+' has failed the "VALID_ARRAY_ITEMS" policy'},r[i.PolicyKey.ValidDate]=function(t){return t+" has an invalid date"},r[i.PolicyKey.ValidEmailAddress]=function(t){return t+" has an invalid email address"},r[i.PolicyKey.ValidNameFormat]=function(t){return t+" has an invalid name format"},r[i.PolicyKey.ValidNumber]=function(t){return t+" has an invalid number"},r[i.PolicyKey.ValidPhoneFormat]=function(t){return t+" has an invalid phone number"},r[i.PolicyKey.ValidQueryFilter]=function(t){return t+' has failed the "VALID_QUERY_FILTER" policy'},r[i.PolicyKey.ValidType]=function(t){return t+' has failed the "VALID_TYPE" policy'},r);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=function(){function t(t){this.payload=t,this.type=r.StepType.LoginSuccess}return t.prototype.getRealm=function(){return this.payload.realm},t.prototype.getSessionToken=function(){return this.payload.tokenId},t.prototype.getSuccessUrl=function(){return this.payload.successUrl},t}();e.default=o},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getName=function(){return this.getOutputByName("name","")},e.prototype.getPrompt=function(){return this.getOutputByName("prompt","")},e.prototype.isRequired=function(){return this.getOutputByName("required",!1)},e.prototype.getFailedPolicies=function(){return this.getOutputByName("failedPolicies",[])},e.prototype.getPolicies=function(){return this.getOutputByName("policies",[])},e.prototype.setValue=function(t){this.setInputValue(t)},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getPrompt=function(){return this.getOutputByName("prompt","")},e.prototype.getDefaultChoice=function(){return this.getOutputByName("defaultChoice",0)},e.prototype.getChoices=function(){return this.getOutputByName("choices",[])},e.prototype.setChoiceIndex=function(t){var e=this.getChoices().length;if(t<0||t>e-1)throw new Error(t+" is out of bounds");this.setInputValue(t)},e.prototype.setChoiceValue=function(t){var e=this.getChoices().indexOf(t);if(-1===e)throw new Error('"'+t+'" is not a valid choice');this.setInputValue(e)},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getDefaultOption=function(){return Number(this.getOutputByName("defaultOption",0))},e.prototype.getMessageType=function(){return Number(this.getOutputByName("messageType",0))},e.prototype.getOptions=function(){return this.getOutputByName("options",[])},e.prototype.getOptionType=function(){return Number(this.getOutputByName("optionType",0))},e.prototype.getPrompt=function(){return this.getOutputByName("prompt","")},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getMessage=function(){return this.getOutputByName("message","")},e.prototype.isMetadataRequired=function(){return this.getOutputByName("metadata",!1)},e.prototype.isLocationRequired=function(){return this.getOutputByName("location",!1)},e.prototype.setProfile=function(t){this.setInputValue(JSON.stringify(t))},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getPrompt=function(){return this.getOutputByName("prompt","")},e.prototype.getPredefinedQuestions=function(){return this.getOutputByName("predefinedQuestions",[])},e.prototype.setQuestion=function(t){this.setValue("question",t)},e.prototype.setAnswer=function(t){this.setValue("answer",t)},e.prototype.setValue=function(t,e){if(!this.payload.input)throw new Error("KBA payload is missing input");var n=this.payload.input.find((function(e){return e.name.endsWith(t)}));if(!n)throw new Error('No input has name ending in "'+t+'"');n.value=e},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getData=function(){return this.getOutputByName("data",{})},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getPrompt=function(){return this.getOutputByName("prompt","")},e.prototype.setName=function(t){this.setInputValue(t)},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getFailedPolicies=function(){return this.getOutputByName("failedPolicies",[])},e.prototype.getPolicies=function(){return this.getOutputByName("policies",[])},e.prototype.getPrompt=function(){return this.getOutputByName("prompt","")},e.prototype.setPassword=function(t){this.setInputValue(t)},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getMessage=function(){return this.getOutputByName("message","")},e.prototype.getWaitTime=function(){return Number(this.getOutputByName("waitTime",0))},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getSiteKey=function(){return this.getOutputByName("recaptchaSiteKey","")},e.prototype.setResult=function(t){this.setInputValue(t)},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getTerms=function(){return this.getOutputByName("terms","")},e.prototype.getVersion=function(){return this.getOutputByName("version","")},e.prototype.getCreateDate=function(){var t=this.getOutputByName("createDate","");return new Date(t)},e.prototype.setAccepted=function(t){void 0===t&&(t=!0),this.setInputValue(t)},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getMessage=function(){return this.getOutputByName("message","")},e.prototype.getMessageType=function(){return this.getOutputByName("messageType","")},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getFailedPolicies=function(){return this.getOutputByName("failedPolicies",[])},e.prototype.getPolicies=function(){return this.getOutputByName("policies",[])},e.prototype.getPrompt=function(){return this.getOutputByName("prompt","")},e.prototype.isRequired=function(){return this.getOutputByName("required",!1)},e.prototype.setPassword=function(t){this.setInputValue(t)},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){var n=t.call(this,e)||this;return n.payload=e,n}return o(e,t),e.prototype.getPrompt=function(){return this.getOutputByName("prompt","")},e.prototype.getFailedPolicies=function(){return this.getOutputByName("failedPolicies",[])},e.prototype.getPolicies=function(){return this.getOutputByName("policies",[])},e.prototype.isRequired=function(){return this.getOutputByName("required",!1)},e.prototype.setName=function(t){this.setInputValue(t)},e}(i(n(0)).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isOkOr4xx=function(t){return t.ok||4===Math.floor(t.status/100)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){void 0===t&&(t=15);var e=-1,n=0;if(t<4||t>15)throw new Error("Invalid nonce length");return function(){var r=Math.pow(10,2)*+new Date;r===e?n++:(n=0,e=r);var o=(r+n).toString();return+o.substr(o.length-t)}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(5)),i=function(){function t(){}return t.getCurrentUser=function(){return o.default.getUserInfo()},t}();e.default=i},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(12));e.Auth=i.default;var a=n(8);e.CallbackType=a.CallbackType,e.ErrorCode=a.ErrorCode;var u=r(n(1));e.Config=u.default;var s=r(n(14));e.Dispatcher=s.default;var c=r(n(15));e.FRAuth=c.default;var l=r(n(0));e.FRCallback=l.default;var f=r(n(21));e.AttributeInputCallback=f.default;var p=r(n(22));e.ChoiceCallback=p.default;var d=r(n(23));e.ConfirmationCallback=d.default;var h=r(n(24));e.DeviceProfileCallback=h.default;var y=r(n(25));e.HiddenValueCallback=y.default;var v=r(n(26));e.KbaCreateCallback=v.default;var b=r(n(27));e.MetadataCallback=b.default;var _=r(n(28));e.NameCallback=_.default;var g=r(n(29));e.PasswordCallback=g.default;var m=r(n(30));e.PollingWaitCallback=m.default;var w=r(n(31));e.ReCaptchaCallback=w.default;var O=r(n(32));e.TermsAndConditionsCallback=O.default;var P=r(n(33));e.TextOutputCallback=P.default;var C=r(n(34));e.ValidatedCreatePasswordCallback=C.default;var k=r(n(35));e.ValidatedCreateUsernameCallback=k.default;var T=n(2);e.StepType=T.StepType;var A=r(n(16));e.FRLoginFailure=A.default;var M=r(n(20));e.FRLoginSuccess=M.default;var x=r(n(9));e.FRStep=x.default;var E=r(n(45));e.FRDevice=E.default;var S=o(n(17));e.FRPolicy=S.default,e.PolicyKey=S.PolicyKey;var j=r(n(19));e.defaultMessageCreator=j.default;var N=r(n(48));e.FRUser=N.default;var I=o(n(51));e.FRWebAuthn=I.default,e.WebAuthnOutcome=I.WebAuthnOutcome,e.WebAuthnStepType=I.WebAuthnStepType;var R=r(n(54));e.HttpClient=R.default;var D=o(n(5));e.OAuth2Client=D.default,e.ResponseType=D.ResponseType;var U=r(n(56));e.SessionManager=U.default;var V=r(n(11));e.TokenManager=V.default;var B=r(n(6));e.TokenStorage=B.default;var L=r(n(38));e.UserManager=L.default;var K=r(n(57));e.Deferred=K.default;var F=r(n(37));e.nonce=F.default;var q=r(n(10));e.PKCE=q.default;var W=r(n(58));e.LocalStorage=W.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DEFAULT_TIMEOUT=6e4},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(t,e,n){t[e]=t[e]||[],t[e].indexOf(n)<0&&t[e].push(n)},e.remove=function(t,e,n){if(t[e]){var r=t[e].indexOf(n);r>=0&&t[e].splice(r,1)}},e.clear=function(t,e){Object.keys(t).forEach((function(n){e&&n!==e||delete t[n]}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.plural=function(t,e,n){return 1===t?e:void 0!==n?n:e+"s"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getProp=function(t,e,n){return t&&void 0!==t[e]?t[e]:n}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(0)),i=n(8),a=r(n(21)),u=r(n(22)),s=r(n(23)),c=r(n(24)),l=r(n(25)),f=r(n(26)),p=r(n(27)),d=r(n(28)),h=r(n(29)),y=r(n(30)),v=r(n(31)),b=r(n(32)),_=r(n(33)),g=r(n(34)),m=r(n(35));e.default=function(t){switch(t.type){case i.CallbackType.BooleanAttributeInputCallback:return new a.default(t);case i.CallbackType.ChoiceCallback:return new u.default(t);case i.CallbackType.ConfirmationCallback:return new s.default(t);case i.CallbackType.DeviceProfileCallback:return new c.default(t);case i.CallbackType.HiddenValueCallback:return new l.default(t);case i.CallbackType.KbaCreateCallback:return new f.default(t);case i.CallbackType.MetadataCallback:return new p.default(t);case i.CallbackType.NameCallback:return new d.default(t);case i.CallbackType.PasswordCallback:return new h.default(t);case i.CallbackType.PollingWaitCallback:return new y.default(t);case i.CallbackType.ReCaptchaCallback:return new v.default(t);case i.CallbackType.StringAttributeInputCallback:return new a.default(t);case i.CallbackType.TermsAndConditionsCallback:return new b.default(t);case i.CallbackType.TextOutputCallback:return new _.default(t);case i.CallbackType.ValidatedCreatePasswordCallback:return new g.default(t);case i.CallbackType.ValidatedCreateUsernameCallback:return new m.default(t);default:return new o.default(t)}}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},u=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=n(46),l=function(t){function e(e){var n=t.call(this)||this;return n.config={fontNames:c.fontNames,devicePlatforms:c.devicePlatforms,displayProps:c.displayProps,browserProps:c.browserProps,hardwareProps:c.hardwareProps,platformProps:c.platformProps},e&&Object.keys(e).forEach((function(t){if(!c.configurableCategories.includes(t))throw new Error("Device profile configuration category does not exist.");n.config[t]=e[t]})),n}return o(e,t),e.prototype.getBrowserMeta=function(){return navigator?this.reduceToObject(this.config.browserProps,navigator):(console.warn("Cannot collect browser metadata. navigator is not defined."),{})},e.prototype.getBrowserPluginsNames=function(){return navigator&&navigator.plugins?this.reduceToString(Object.keys(navigator.plugins),navigator.plugins):(console.warn("Cannot collect browser plugin information. navigator.plugins is not defined."),"")},e.prototype.getDeviceName=function(){if(!navigator)return console.warn("Cannot collect device name. navigator is not defined."),"";var t=navigator.userAgent,e=navigator.platform;switch(!0){case-1!==this.config.devicePlatforms.mac.indexOf(e):return"Mac (Browser)";case-1!==this.config.devicePlatforms.ios.indexOf(e):return e+" (Browser)";case-1!==this.config.devicePlatforms.windows.indexOf(e):return"Windows (Browser)";case/Android/.test(e)||/Android/.test(t):return"Android (Browser)";case/CrOS/.test(t)||/Chromebook/.test(t):return"Chrome OS (Browser)";case/Linux/.test(e):return"Linux (Browser)";default:return(e||"Unknown")+" (Browser)"}},e.prototype.getDisplayMeta=function(){return screen||console.warn("Cannot collect screen information. screen is not defined."),this.reduceToObject(this.config.displayProps,screen)},e.prototype.getHardwareMeta=function(){return navigator?this.reduceToObject(this.config.hardwareProps,navigator):(console.warn("Cannot collect OS metadata. Navigator is not defined."),{})},e.prototype.getIdentifier=function(){if(!window.crypto||!window.crypto.getRandomValues)return console.warn("Cannot generate profile ID. Crypto and/or getRandomValues is not supported."),"";if(!localStorage)return console.warn("Cannot store profile ID. localStorage is not supported."),"";var t=localStorage.getItem("profile-id");return t||(t=window.crypto.getRandomValues(new Uint32Array(3)).join("-"),localStorage.setItem("profile-id",t)),t},e.prototype.getInstalledFonts=function(){var t=document.createElement("canvas");if(!t)return console.warn("Cannot collect font data. Browser does not support canvas element"),"";var e=t.getContext&&t.getContext("2d");if(!e)return console.warn("Cannot collect font data. Browser does not support 2d canvas context"),t.remove(),"";var n="abcdefghi0123456789";e.font="72px Comic Sans";var r=e.measureText(n).width,o=this.config.fontNames.reduce((function(t,o){return e.font="72px "+o+", Comic Sans",e.measureText(n).width!==r&&(t=""+t+o+";"),t}),"");return t.remove(),o},e.prototype.getLocationCoordinates=function(){return a(this,void 0,void 0,(function(){var t=this;return u(this,(function(e){return navigator&&navigator.geolocation?[2,new Promise((function(e){return a(t,void 0,void 0,(function(){return u(this,(function(t){return navigator.geolocation.getCurrentPosition((function(t){return e({latitude:t.coords.latitude,longitude:t.coords.longitude})}),(function(t){console.warn("Cannot collect geolocation information. "+t.code+": "+t.message),e({})}),{enableHighAccuracy:!0,timeout:c.delay,maximumAge:0}),[2]}))}))}))]:(console.warn("Cannot collect geolocation information. navigator.geolocation is not defined."),[2,Promise.resolve({})])}))}))},e.prototype.getOSMeta=function(){return navigator?this.reduceToObject(this.config.platformProps,navigator):(console.warn("Cannot collect OS metadata. navigator is not defined."),{})},e.prototype.getProfile=function(t){var e=t.location,n=t.metadata;return a(this,void 0,void 0,(function(){var t,r;return u(this,(function(o){switch(o.label){case 0:return t={identifier:this.getIdentifier()},n&&(t.metadata={hardware:i(i({},this.getHardwareMeta()),{display:this.getDisplayMeta()}),browser:i(i({},this.getBrowserMeta()),{plugins:this.getBrowserPluginsNames()}),platform:i(i({},this.getOSMeta()),{deviceName:this.getDeviceName(),fonts:this.getInstalledFonts(),timezone:this.getTimezoneOffset()})}),e?(r=t,[4,this.getLocationCoordinates()]):[3,2];case 1:r.location=o.sent(),o.label=2;case 2:return[2,t]}}))}))},e.prototype.getTimezoneOffset=function(){try{return(new Date).getTimezoneOffset()}catch(t){return console.warn("Cannot collect timezone information. getTimezoneOffset is not defined."),null}},e}(s(n(47)).default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.browserProps=["userAgent","appName","appCodeName","appVersion","appMinorVersion","buildID","product","productSub","vendor","vendorSub","browserLanguage"];e.configurableCategories=["fontNames","displayProps","browserProps","hardwareProps","platformProps"];e.delay=3e4;e.devicePlatforms={mac:["Macintosh","MacIntel","MacPPC","Mac68K"],windows:["Win32","Win64","Windows","WinCE"],ios:["iPhone","iPad","iPod"]};e.displayProps=["width","height","pixelDepth","orientation.angle"];e.fontNames=["cursive","monospace","serif","sans-serif","fantasy","Arial","Arial Black","Arial Narrow","Arial Rounded MT Bold","Bookman Old Style","Bradley Hand ITC","Century","Century Gothic","Comic Sans MS","Courier","Courier New","Georgia","Gentium","Impact","King","Lucida Console","Lalit","Modena","Monotype Corsiva","Papyrus","Tahoma","TeX","Times","Times New Roman","Trebuchet MS","Verdana","Verona"];e.hardwareProps=["cpuClass","deviceMemory","hardwareConcurrency","maxTouchPoints","oscpu"];e.platformProps=["language","platform","userLanguage","systemLanguage"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.reduceToObject=function(t,e){return t.reduce((function(t,n){if(n.includes(".")){var r=n.split("."),o=e[r[0]]&&e[r[0]][r[1]];t[r[1]]=null!=o?o:""}else t[n]=null!=e[n]?e[n]:null;return t}),{})},t.prototype.reduceToString=function(t,e){return t.reduce((function(t,n){return t=""+t+e[n].filename+";"}),"")},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(5)),u=i(n(11)),s=i(n(38)),c=function(){function t(){}return t.login=function(t,e){return r(this,void 0,void 0,(function(){return o(this,(function(n){throw console.info(t,e),new Error("FRUser.login() not implemented")}))}))},t.loginWithUI=function(t,e){return r(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),[4,t.getSession(e)];case 1:return n.sent(),[4,u.default.getTokens({forceRenew:!0})];case 2:return n.sent(),[4,s.default.getCurrentUser()];case 3:return[2,n.sent()];case 4:throw n.sent(),new Error("Login failed");case 5:return[2]}}))}))},t.logout=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,a.default.endSession(t)];case 1:return e.sent(),[4,a.default.revokeToken(t)];case 2:return e.sent(),[4,u.default.deleteTokens()];case 3:return e.sent(),[3,5];case 4:throw e.sent(),new Error("Logout failed");case 5:return[2]}}))}))},t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DB_NAME="forgerock-sdk";e.TOKEN_KEY="tokens"},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.Code="code",t.Token="token"}(r||(r={})),e.ResponseType=r},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(8),u=n(52);e.WebAuthnOutcome=u.WebAuthnOutcome,e.WebAuthnStepType=u.WebAuthnStepType;var s=n(53),c=function(){function t(){}return t.getWebAuthnStepType=function(t){var e=this.getOutcomeCallback(t),n=this.getMetadataCallback(t);return e&&n?n.getOutputValue("data").acceptableCredentials?u.WebAuthnStepType.Authentication:u.WebAuthnStepType.Registration:u.WebAuthnStepType.None},t.authenticate=function(t){return o(this,void 0,void 0,(function(){var e,n,r,o,a,u,s,c;return i(this,(function(i){switch(i.label){case 0:if(e=this.getCallbacks(t),n=e.hiddenCallback,r=e.metadataCallback,!n||!r)throw new Error("Invalid webauthn payload");i.label=1;case 1:return i.trys.push([1,3,,4]),a=r.getOutputValue("data"),u=this.createAuthenticationPublicKey(a),[4,this.getAuthenticationCredential(u)];case 2:return s=i.sent(),o=this.getAuthenticationOutcome(s),[3,4];case 3:return c=i.sent(),o=this.getErrorOutcome(c),[3,4];case 4:return n.setInputValue(o),[2,t]}}))}))},t.register=function(t){return o(this,void 0,void 0,(function(){var e,n,r,o,a,u,s,c;return i(this,(function(i){switch(i.label){case 0:if(e=this.getCallbacks(t),n=e.hiddenCallback,r=e.metadataCallback,!n||!r)throw new Error("Invalid webauthn payload");i.label=1;case 1:return i.trys.push([1,3,,4]),a=r.getOutputValue("data"),u=this.createRegistrationPublicKey(a),[4,this.getRegistrationCredential(u)];case 2:return s=i.sent(),o=this.getRegistrationOutcome(s),[3,4];case 3:return c=i.sent(),o=this.getErrorOutcome(c),[3,4];case 4:return n.setInputValue(o),[2,t]}}))}))},t.getCallbacks=function(t){return{hiddenCallback:this.getOutcomeCallback(t),metadataCallback:this.getMetadataCallback(t)}},t.getMetadataCallback=function(t){return t.getCallbacksOfType(a.CallbackType.MetadataCallback).find((function(t){var e=t.getOutputByName("data",void 0);return e&&e.hasOwnProperty("relyingPartyId")}))},t.getOutcomeCallback=function(t){return t.getCallbacksOfType(a.CallbackType.HiddenValueCallback).find((function(t){return"webAuthnOutcome"===t.getOutputByName("id","")}))},t.getAuthenticationCredential=function(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,navigator.credentials.get({publicKey:t})];case 1:return[2,e.sent()]}}))}))},t.getAuthenticationOutcome=function(t){if(!window.PublicKeyCredential)return u.WebAuthnOutcome.Unsupported;try{if(null===t)throw new Error("No credential provided");var e=s.getClientDataJson(t),n=t.response;return e+"::"+new Int8Array(n.authenticatorData).toString()+"::"+new Int8Array(n.signature).toString()+"::"+t.id}catch(t){return this.getErrorOutcome(t)}},t.getRegistrationCredential=function(t){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,navigator.credentials.create({publicKey:t})];case 1:return[2,e.sent()]}}))}))},t.getRegistrationOutcome=function(t){if(!window.PublicKeyCredential)return u.WebAuthnOutcome.Unsupported;try{if(null===t)throw new Error("No credential provided");var e=s.getClientDataJson(t),n=t.response;return e+"::"+new Int8Array(n.attestationObject).toString()+"::"+t.id}catch(t){return this.getErrorOutcome(t)}},t.createAuthenticationPublicKey=function(t){var e=t.acceptableCredentials,n=t.challenge,o=t.relyingPartyId,i=t.timeout,a=s.parseRelyingPartyId(o);return r({allowCredentials:s.parseCredentials(e),challenge:Uint8Array.from(atob(n),(function(t){return t.charCodeAt(0)})).buffer,timeout:i},a&&{rpId:a})},t.createRegistrationPublicKey=function(t){var e=t.pubKeyCredParams,n=s.parsePubKeyArray(e);if(!n)throw new Error("Missing pubKeyCredParams");var o=t.attestationPreference,i=t.authenticatorSelection,a=t.challenge,u=t.relyingPartyId,c=t.relyingPartyName,l=t.timeout,f=t.userId,p=t.userName,d=s.parseRelyingPartyId(u),h=r({name:c},d&&{id:d});return{attestation:o,authenticatorSelection:JSON.parse(i),challenge:Uint8Array.from(atob(a),(function(t){return t.charCodeAt(0)})).buffer,pubKeyCredParams:n,rp:h,timeout:l,user:{displayName:p,id:Int8Array.from(f.split("").map((function(t){return t.charCodeAt(0)}))),name:p}}},t.getErrorOutcome=function(t){var e=t.name?t.name+":":"";return u.WebAuthnOutcome.Error+"::"+e+t.message},t}();e.default=c},function(t,e,n){"use strict";var r,o;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.Error="ERROR",t.Unsupported="unsupported"}(r||(r={})),e.WebAuthnOutcome=r,function(t){t[t.None=0]="None",t[t.Authentication=1]="Authentication",t[t.Registration=2]="Registration"}(o||(o={})),e.WebAuthnStepType=o},function(t,e,n){"use strict";function r(t){var e=/new Int8Array\((.+)\)/.exec(t);return null===e||e.length<2?[]:JSON.parse(e[1])}Object.defineProperty(e,"__esModule",{value:!0}),e.parsePubKeyArray=function(t){if(t){if(Array.isArray(t))return t;if("string"==typeof t)return t.length>0&&"["===t[0]?JSON.parse(t):(t=t.replace(/(\w+):/g,'"$1":'),JSON.parse("["+t+"]"))}},e.parseNumberArray=r,e.parseCredentials=function(t){try{return t.split("}").filter((function(t){return!!t})).map((function(t){var e=r(t);return{id:new Int8Array(e).buffer,type:"public-key"}}))}catch(t){throw new Error("Failed to parse credentials")}},e.getClientDataJson=function(t){var e=new Uint8Array(t.response.clientDataJSON);return String.fromCharCode.apply(null,Array.from(e))},e.parseRelyingPartyId=function(t){return t.replace(/rpId: "(.+)",/,"$1")}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=u(n(1)),c=u(n(14)),l=u(n(15)),f=n(2),p=u(n(9)),d=u(n(11)),h=u(n(6)),y=n(3),v=n(55),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.request=function(t){return i(this,void 0,void 0,(function(){var e,n,r,o,i,u;return a(this,(function(a){switch(a.label){case 0:return[4,this._request(t,!1)];case 1:return e=a.sent(),v.newTokenRequired(e,t.requiresNewToken)?[4,this._request(t,!0)]:[3,3];case 2:e=a.sent(),a.label=3;case 3:return t.txnAuth&&t.txnAuth.handleStep?e.redirected&&v.examineForIGTxnAuth(e)?(n=v.normalizeIGJSON(e),[3,7]):[3,4]:[3,14];case 4:return[4,v.examineForRESTTxnAuth(e)];case 5:return a.sent()?[4,v.normalizeRESTJSON(e)]:[3,7];case 6:n=a.sent(),a.label=7;case 7:return n&&n.advices?(r=s.default.get(t.txnAuth.config).serverConfig,o=v.buildTxnAuthOptions(n,r.baseUrl,t.timeout),[4,this._request(o,!1)]):[3,14];case 8:return i=a.sent(),[4,v.isAuthStep(i)];case 9:if(!a.sent())throw new Error('Error: Initial response from auth server not a "step".');if(!v.hasTransactionAdvice(n))throw new Error("Error: TransactionConditionAdvice is empty.");a.label=10;case 10:return a.trys.push([10,13,,14]),[4,this.stepIterator(i,t.txnAuth.handleStep)];case 11:return a.sent(),t.txnAuth.txnID=n.advices.TransactionConditionAdvice[0],[4,this._request(t,!1)];case 12:return e=a.sent(),[3,14];case 13:throw u=a.sent(),new Error(u);case 14:return[2,e]}}))}))},e.setAuthHeaders=function(t,e,n){return i(this,void 0,void 0,(function(){var r,o;return a(this,(function(i){switch(i.label){case 0:return r=e.txnAuth&&e.txnAuth.handleStep,[4,h.default.get()];case 1:return(o=i.sent()).accessToken?[4,d.default.getTokens({forceRenew:n})]:[3,3];case 2:return o=i.sent(),t.set("Authorization","Bearer "+o.accessToken),r&&(t.set("X-Id-Token",o.idToken||""),t.set("X-Txn-Id",e.txnAuth&&e.txnAuth.txnID||"")),[3,4];case 3:r&&t.set("X-Txn-Id",e.txnAuth&&e.txnAuth.txnID||""),i.label=4;case 4:return[2,t]}}))}))},e.stepIterator=function(t,e){return i(this,void 0,void 0,(function(){var n,r,o=this;return a(this,(function(u){switch(u.label){case 0:return[4,t.json()];case 1:return n=u.sent(),r=new p.default(n),[2,new Promise((function(t,n){return i(o,void 0,void 0,(function(){return a(this,(function(o){return function r(o){return i(this,void 0,void 0,(function(){var i,u;return a(this,(function(a){switch(a.label){case 0:return[4,e(o)];case 1:return i=a.sent(),[4,l.default.next(i)];case 2:return(u=a.sent()).type===f.StepType.LoginSuccess?t():u.type===f.StepType.LoginFailure?n("Transaction authorization failure."):r(u),[2]}}))}))}(r),[2]}))}))}))]}}))}))},e._request=function(t,e){return i(this,void 0,void 0,(function(){var n,r,o,i;return a(this,(function(a){switch(a.label){case 0:return n=t.url,r=t.init,o=t.timeout,i=new Headers(r.headers),t.bypassAuthentication?[3,2]:[4,this.setAuthHeaders(i,t,e)];case 1:i=a.sent(),a.label=2;case 2:return r.headers=i,[4,y.withTimeout(fetch(n,r),o)];case 3:return[2,a.sent()]}}))}))},e}(c.default);e.default=b},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.buildTxnAuthOptions=function(t,e,n){var r='<Advices><AttributeValuePair><Attribute name="TransactionConditionAdvice"/>'+("<Value>"+(t.advices?t.advices.TransactionConditionAdvice:[]).reduce((function(t,e){return t=""+e+(t?" "+t:t)}),"")+"</Value>")+"</AttributeValuePair></Advices>",o=new URL(e+"json/realms/root/authenticate");return o.searchParams.set("authIndexType","composite_advice"),o.searchParams.set("authIndexValue",r),{init:{method:"POST",credentials:"include"},timeout:n,url:o.toString()}},e.examineForIGTxnAuth=function(t){return(t.headers.get("Content-Type")||"").includes("html")&&t.url.includes("composite_advice")},e.examineForRESTTxnAuth=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,t.clone().json()];case 1:return[2,!!e.sent().advices]}}))}))},e.hasTransactionAdvice=function(t){return!!t.advices&&(Array.isArray(t.advices.TransactionConditionAdvice)&&t.advices.TransactionConditionAdvice.length>0)},e.isAuthStep=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,t.clone().json()];case 1:return[2,!!e.sent().callbacks]}}))}))},e.newTokenRequired=function(t,e){return"function"==typeof e?e(t):401===t.status},e.normalizeIGJSON=function(t){return{resource:"",actions:{},attributes:{},advices:{TransactionConditionAdvice:[(e=t.url,n=new URL(e).searchParams.get("authIndexValue")||"",r=(new DOMParser).parseFromString(n,"text/xml").querySelector("Value"),r?r.innerHTML:"")]},ttl:0};var e,n,r},e.normalizeRESTJSON=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,t.json()];case 1:return[2,e.sent()]}}))}))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(1)),u=n(13),s=n(36),c=n(7),l=n(3),f=n(4),p=function(){function t(){}return t.logout=function(t){return r(this,void 0,void 0,(function(){var e,n,r,i,p,d,h;return o(this,(function(o){switch(o.label){case 0:return e=a.default.get(t),n=e.realmPath,r=e.serverConfig,i={credentials:"include",headers:{"accept-api-version":"protocol=1.0,resource=2.0","x-requested-with":u.REQUESTED_WITH},method:"POST"},p=c.getRealmUrlPath(n),d=f.resolve(r.baseUrl,"json/"+p+"/sessions/?_action=logout"),[4,l.withTimeout(fetch(d,i),r.timeout)];case 1:if(h=o.sent(),!s.isOkOr4xx(h))throw new Error("Failed to log out; received "+h.status);return[2]}}))}))},t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){var t=this;this.promise=new Promise((function(e,n){t.reject=n,t.resolve=e}))};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){void 0===t&&(t=!1),this.storage=t?window.localStorage:window.sessionStorage}return t.prototype.get=function(t){var e=this.storage.getItem(t);if(e)return JSON.parse(e)},t.prototype.set=function(t,e){this.storage.setItem(t,JSON.stringify(e))},t.prototype.remove=function(t){this.storage.removeItem(t)},t}();e.default=r}])}));
//# sourceMappingURL=index.js.map